{% extends "store/base.html" %}
{% load cart_tags %}
{% block title %}Home{% endblock title %}

{% block content %}

<div class="container-fluid mt-5">
    
    <div class="row py-2 ps-3">

        <div class="col-lg-3 mx-auto">
            <ul class="list-group  login-container">
                <a href="/" class="list-group-item {% if not request.GET.category %}active{% endif %} fw-bold">All Products</a>
                {% for category in Categories %}
                <a href="/?category={{category.id}}" class="list-group-item {% if request.GET.category|stringformat:'s' == category.id|stringformat:'s' %}active{% endif %} fw-bold">{{category.name}}</a>
                {% endfor %}
              </ul>
        </div>

        <div id="products" class="col-lg-9 mx-auto">
            <div class="row mx-auto">
                {% for product in products %}
                <div class="card text-start mx-auto mb-4 ms-4 p-3 pb-0 login-container" id="{{product.id}}" style="width:18rem;">
                <a href="#"><img class="card-img-top" src="{{product.image.url}}" alt="{{product.name}}" height="250px" width="150px" /></a>
                <div class="card-body">
                    <h6 class="card-title">{{product.name}}</h6>
                    <p class="card-text fw-bold text-secondary">
                        <span class="text-danger product-price">{{product.price}}</span>
                    </p>
                </div>
                <div class="card-footer p-0 no-gutters">
                    {% if product|is_in_cart:request.session.cart %}
                    <div class="d-flex justify-content-between align-items-center mb-1">
                        <form action="/#{{product.id}}" method="POST" class="m-0">
                            {% csrf_token %}
                            <input type="text" value="{{product.id}}" name="product" hidden/>
                            <input type="text" value="true" name="remove" hidden/>
                            <button type="submit" class="btn btn-primary px-3">-</button>
                        </form>

                        <div class="text-center col fw-bold pt-1">{{product|count_in_cart:request.session.cart}} &nbsp;in cart</div>

                        <form action="/#{{product.id}}" method="POST" class="m-0">
                            {% csrf_token %}
                            <input type="text" value="{{product.id}}" name="product" hidden/>
                            <button type="submit" class="btn btn-primary btn-block px-3">+</button>
                        </form>
                    </div>
                    
                    {% else %}
                    <form action="/" method="POST" class="btn-block p-0">
                        {% csrf_token %}
                        <input type="text" value="{{product.id}}" name="product" hidden/>
                        <input type="submit" class="btn btn-primary form-control btn-sm fw-bold text-light rounded mb-1" value="Add to Cart" />
                    </form>
                    {% endif %}
                </div>
                </div>
            {% endfor %}
            </div>
        </div>

    </div>

</div>


<div class="p-5 mb-4 bg-light rounded-3" id="abc">
    <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold">E-SHOP</h1>
        <p class="col-lg-12 fs-4">
            
आपके One-Stop Online Shop पर आपका स्वागत है! हमारे E-commerce Store पर Convenience और Choice की दुनिया की खोज करें। हम विभिन्न Categories में कई प्रकार के Products प्रदान करते हैं ताकि आपकी सभी आवश्यकताओं और इच्छाओं को पूरा किया जा सके। चाहे आप नवीनतम Tech Gadgets, स्टाइलिश Clothing, या Essential Home Appliances की खोज कर रहे हों, हमारे पास सभी के लिए कुछ न कुछ है। हमारी Categories में Audio & Video Devices, Home Appliances, Laptops & Computers, Mobile Phones & Accessories, Bags & Wallets, Watches & Jewelry, Shoes, Kids' Clothing, Men's Clothing, और Women's Clothing शामिल हैं। हम केवल High-Quality Products को प्रदान करने का वादा करते हैं और हमारे Products को Competitive Pricing पर प्राप्त करें। हमारे Fast और Reliable Delivery Options के साथ जल्दी से अपने Products प्राप्त करें। हमारे Helpful और Friendly Customer Service Representatives आपके किसी भी प्रश्न का उत्तर देने के लिए हमेशा उपलब्ध हैं। हमारी Website पर जाकर अद्भुत Deals और Offers का लाभ उठाएं। हमारे Store में आपका स्वागत है, जहां Quality और Satisfaction हमारी प्राथमिकताएं हैं।
        </p>
        <a class="btn btn-primary btn-lg" href="{% url 'home'%}">
            Shop Now
        </a>
    </div>
</div>



{% endblock content %}
